<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link rel="shortcut icon" type="image/x-icon" href="icon.png">
    <title>Heart Predictor</title>
  </head>
  <body style="background-color:#000000" >

  	<div id="result-div" class="text_center" style="background-color:#333333; margin:2%; padding:5%;">
		<div>
			<button id="back_btn" class="btn btn-primary" onclick="goMain()">Go Back</button>
			<br>
		</div>
		<div id="result-content" class="text-center">

		</div>
	</div>
    <div id="main-div" style="background-color:#333333; margin:2%;">
      
		<div class="text-center" style="padding:5%;">
		  
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="ageInput">How Old Are You: </label>
				<div class="col-sm-6">
				<input placeholder="Enter Age" type="number" class="form-control" id="ageInput"/>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="bmiInput">What is Your BMI: </label>
				<div class="col-sm-6">
				<input placeholder="Enter BMI" class="form-control" id="bmiInput"/>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="smokerInput">Are you a smoker: </label>
				<div class="col-sm-5">
				<select id="smokerInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="drinkerInput">Are you a drinker: </label>
				<div class="col-sm-5">
				<select id="drinkerInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="strokeInput">Have you had a stroke: </label>
				<div class="col-sm-5">
				<select id="strokeInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="pHealthInput">Poor Physical Health Last Month: </label>
				<div class="col-sm-5">
				  <input placeholder="Enter Number of Days" type="number" class="form-control" id="pHealthInput"/>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="mHealthInput">Poor Mental Health Last Month: </label>
				<div class="col-sm-5">
				  <input placeholder="Enter Number of Days" type="number" class="form-control" id="mHealthInput"/>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="walkingInput">Do You Have Difficulty Walking: </label>
				<div class="col-sm-5">
				<select id="walkingInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="sexInput">What is Your Gender: </label>
				<div class="col-sm-5">
				<select id="sexInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="0">Male</option>
				  <option value="1">Female</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="raceInput">What is Your Race: </label>
				<div class="col-sm-5">
				<select id="raceInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">White</option>
				  <option value="2">Black</option>
				  <option value="3">Hispanic</option>
				  <option value="4">Asian</option>
				  <option value="5">American Indian</option>
				  <option value="6">Other</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="diabeticInput">Are You A Diabetic: </label>
				<div class="col-sm-5">
				<select id="diabeticInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="exerciseInput">Do You Exercise: </label>
				<div class="col-sm-5">
				<select id="exerciseInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="gHealthInput">How Is Your General Health: </label>
				<div class="col-sm-5">
				<select id="gHealthInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="5">Excellent</option>
				  <option value="4">Very Good</option>
				  <option value="3">Good</option>
				  <option value="2">Fair</option>
				  <option value="1">Poor</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="sleepInput">How Many Hours You Sleep: </label>
				<div class="col-sm-5">
				  <input placeholder="Enter Number of Days" type="number" class="form-control" id="sleepInput"/>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="ashtamaInput">Do You Have Asthma: </label>
				<div class="col-sm-5">
				<select id="ashtamaInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="kidneyInput">Do You Have Any Kidney Disease: </label>
				<div class="col-sm-5">
				<select id="kidneyInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<div class="row justify-content-center">
				<label style="color:#ffffff; font-weight:bold; font-size:20px;" for="skinInput">Do You Have Skin Cancer: </label>
				<div class="col-sm-5">
				<select id="skinInput" class="form-control">
				  <option value="">Choose Response</option>
				  <option value="1">Yes</option>
				  <option value="0">No</option>
				</select>
				</div>
			</div>
			</br>
			
			<button class="btn btn-primary" onclick="getResult()">Save</button>
		</div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

	<script type="text/javascript" src="/eel.js"></script>
    <script type="text/javascript">

		$('#result-div').hide()
$('#main-div').show()

  		function getResult(){
			debugger;
  			var age = $('#ageInput').val()
  			var bmi = $('#bmiInput').val()
  			var smoker = $('#smokerInput').val()
  			var drinker = $('#drinkerInput').val()
  			var stroke = $('#strokeInput').val()
  			var pHealth = $('#pHealthInput').val()
  			var mHealth = $('#mHealthInput').val()
  			var walking = $('#walkingInput').val()
  			var sex = $('#sexInput').val()
  			var race = $('#raceInput').val()
  			var diabetic = $('#diabeticInput').val()
  			var exercise = $('#exerciseInput').val()
  			var gHealth = $('#gHealthInput').val()
  			var sleep = $('#sleepInput').val()
  			var asthma = $('#ashtamaInput').val()
  			var kidney = $('#kidneyInput').val()
  			var skin = $('#skinInput').val()
			eel.hello()(doNothing)
  			eel.makePrediction(age, bmi, smoker, drinker, stroke, pHealth, mHealth, walking, sex, race, diabetic, exercise, gHealth, sleep, asthma, kidney, skin)(showResult)
  		}
		function doNothing(){
			return;
		}
  		function goMain(){
  			$('#result-div').hide()
  			$('#main-div').show()
  		}
		eel.expose(showResult);
		function showResult(prediction){
			debugger;
			prediction = parseFloat(prediction)
			if(prediction < 0.5){
  				$('#result-content').html('<h1 style="color:red;">You Have a Risk of a Heart Disease</h1></br><p style="color:white;">System Confidence ' + (1-prediction)*100 + '%</p>')
  				$('#result-div').show()
  				$('#main-div').hide()
			}
			else{
				$('#result-content').html('<h1 style="color:green;">You Do Not Have a Risk of a Heart Disease</h1></br><p style="color:white;">System Confidence ' + prediction*100 + '%</p>')
				$('#result-div').show()
  				$('#main-div').hide()
			}
		}



    </script>
  </body>
</html>